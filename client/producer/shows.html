<template name="producerShows">
  <h2>My Shows <button class="btn btn-primary" data-create-show>Create New Show</button></h2>
  <hr>
{{#each shows}}
<div>
  <h3>{{showName}}<br><span class="small">{{prettifyDate showStart}}, {{prettifySimpleTime showStart}} - {{prettifySimpleTime showEnd}}</span></h3>
  <h3><a href="{{pathFor 'showTracks' showId=_id}}"><!--{{numTracks}} -->Tracks</a> {{#if defaultMeta}}<small>{{defaultMeta}}</small>{{/if}}</h3>
  {{#unless autoStartEnd}}
  {{#if isActive}}
  <button class="btn btn-warning" data-deactivate-show-id="{{_id}}">Stop Show</button>{{else}}
  {{#if startTimeAfterCurrentDate}}
  <button class="btn btn-primary" data-activate-show-id="{{_id}}">Start Show</button>
  {{/if}}
  {{/if}}
  {{#if currentUser.producerProfile.isAutomationUIEnabled}}
  {{#if endTimeAfterCurrentDate}}
  <button class="btn btn-warning" data-auto-start-show-id="{{_id}}">Auto Start and End is Off</button>
  {{/if}}
  {{/if}}
  {{else}}
  {{#if currentUser.producerProfile.isAutomationUIEnabled}}
  {{#if endTimeAfterCurrentDate}}
  <button class="btn btn-success" data-stop-auto-start-show-id="{{_id}}">Auto Start and End is On</button>
  {{/if}}
  {{/if}}
  {{/unless}}
  <button class="btn btn-success" data-duplicate-id="{{_id}}">Duplicate</button>
  {{#afModal formId=updateShowFormId class="btn btn-primary" collection="Shows" operation="update" doc=_id omitFields="userId,numTracks,isActive,isShowingDescription,isAutoPlaying,isShowingDefaultMeta,autoStartEnd"}}
  Edit
{{/afModal}}
  <button class="btn btn-danger" data-delete-id="{{_id}}">Delete</button>
  <hr>
</div>
{{/each}}
</template>
